import{Q as n}from"./QInput-CJt-xT-X.js";import{Q as c}from"./QSelect-U9GO-vcy.js";import{Q as u}from"./QItemLabel-CDx0sUKF.js";import{Q as g}from"./QItemSection-Dr7pKUWg.js";import{Q as b}from"./QItem-DGC_oh8H.js";import{_ as v,Q as V,a as h}from"./_plugin-vue_export-helper-DE_L9tpe.js";import{Q as y}from"./QSeparator-DlYTESWS.js";import{r as Q,c as C,o as S,w as s,a as l,b as t,t as d,O as U,P as A,f,Q as p,L as I}from"./app-B9ngRPxC.js";import{Q as x}from"./QCardActions-BXiB0Jwk.js";import{Q as w}from"./QForm-QL7SKRAj.js";import{A as O}from"./Authenticated-Bi_brb96.js";import"./use-key-composition-CcPeSjoe.js";import"./use-id-Bsf40j7l.js";import"./focus-manager-BJWzFvJg.js";import"./format-DSaZ9Sxz.js";import"./QList-CauX3dmB.js";import"./use-timeout-BLTl8fd9.js";import"./use-model-toggle-D3uVg552.js";import"./QDialog-Bd7-soYq.js";import"./QToolbar-tVFOb00I.js";import"./QBtnGroup-uFzmfQIw.js";import"./touch-BjYP5sR0.js";const q={components:{AuthenticatedLayout:O},props:{client:Object,users:Array,selectedUserIds:Array},data(){var i,o,m;return{form:I({name:this.client.name,fly_org_id:this.client.fly_org_id,status:this.client.status,billing_start_date:this.client.billing_start_date||"",contact_info:{email:((i=this.client.contact_info)==null?void 0:i.email)||"",phone:((o=this.client.contact_info)==null?void 0:o.phone)||"",address:((m=this.client.contact_info)==null?void 0:m.address)||""},user_ids:this.selectedUserIds}),statusOptions:[{label:"Active",value:"active"},{label:"Inactive",value:"inactive"}]}},computed:{userOptions(){return this.users.map(i=>({label:i.name,value:i.id,email:i.email}))}},methods:{submit(){this.form.put(route("clients.update",this.client.id),{onSuccess:()=>{this.$q.notify({type:"positive",message:"Client updated successfully"})}})},cancel(){this.$inertia.visit(route("clients.show",this.client.id))}}},B={class:"q-gutter-md"},L={class:"row items-center justify-between q-mb-md"},P={class:"text-h5"},k={class:"row q-col-gutter-md"},N={class:"col-12 col-md-6"},D={class:"col-12 col-md-6"},E={class:"col-12 col-md-6"},j={class:"col-12 col-md-6"},z={class:"col-12 col-md-4"},F={class:"col-12 col-md-4"},T={class:"col-12 col-md-4"},M={class:"col-12"};function R(i,o,m,G,e,a){const _=Q("AuthenticatedLayout");return S(),C(_,null,{default:s(()=>[l("div",B,[l("div",L,[l("div",P,"Edit Client: "+d(m.client.name),1)]),t(V,null,{default:s(()=>[t(w,{onSubmit:a.submit},{default:s(()=>[t(h,null,{default:s(()=>[l("div",k,[l("div",N,[t(n,{modelValue:e.form.name,"onUpdate:modelValue":o[0]||(o[0]=r=>e.form.name=r),label:"Client Name",filled:"",error:!!e.form.errors.name,"error-message":e.form.errors.name},null,8,["modelValue","error","error-message"])]),l("div",D,[t(n,{modelValue:e.form.fly_org_id,"onUpdate:modelValue":o[1]||(o[1]=r=>e.form.fly_org_id=r),label:"Fly.io Organization ID",filled:"",error:!!e.form.errors.fly_org_id,"error-message":e.form.errors.fly_org_id},null,8,["modelValue","error","error-message"])]),l("div",E,[t(c,{modelValue:e.form.status,"onUpdate:modelValue":o[2]||(o[2]=r=>e.form.status=r),options:e.statusOptions,label:"Status",filled:"","emit-value":"","map-options":"",error:!!e.form.errors.status,"error-message":e.form.errors.status},null,8,["modelValue","options","error","error-message"])]),l("div",j,[t(n,{modelValue:e.form.billing_start_date,"onUpdate:modelValue":o[3]||(o[3]=r=>e.form.billing_start_date=r),label:"Billing Start Date",filled:"",type:"date",error:!!e.form.errors.billing_start_date,"error-message":e.form.errors.billing_start_date},null,8,["modelValue","error","error-message"])]),o[9]||(o[9]=l("div",{class:"col-12"},[l("div",{class:"text-h6 q-mb-md"},"Contact Information")],-1)),l("div",z,[t(n,{modelValue:e.form.contact_info.email,"onUpdate:modelValue":o[4]||(o[4]=r=>e.form.contact_info.email=r),label:"Contact Email",filled:"",type:"email",error:!!e.form.errors["contact_info.email"],"error-message":e.form.errors["contact_info.email"]},null,8,["modelValue","error","error-message"])]),l("div",F,[t(n,{modelValue:e.form.contact_info.phone,"onUpdate:modelValue":o[5]||(o[5]=r=>e.form.contact_info.phone=r),label:"Contact Phone",filled:"",error:!!e.form.errors["contact_info.phone"],"error-message":e.form.errors["contact_info.phone"]},null,8,["modelValue","error","error-message"])]),l("div",T,[t(n,{modelValue:e.form.contact_info.address,"onUpdate:modelValue":o[6]||(o[6]=r=>e.form.contact_info.address=r),label:"Contact Address",filled:"",error:!!e.form.errors["contact_info.address"],"error-message":e.form.errors["contact_info.address"]},null,8,["modelValue","error","error-message"])]),l("div",M,[o[8]||(o[8]=l("div",{class:"text-h6 q-mb-md"},"Assign Managers",-1)),t(c,{modelValue:e.form.user_ids,"onUpdate:modelValue":o[7]||(o[7]=r=>e.form.user_ids=r),options:a.userOptions,label:"Select managers who can access this client",filled:"",multiple:"","emit-value":"","map-options":"","option-value":"value","option-label":"label",error:!!e.form.errors.user_ids,"error-message":e.form.errors.user_ids},{option:s(r=>[t(b,U(A(r.itemProps)),{default:s(()=>[t(g,null,{default:s(()=>[t(u,null,{default:s(()=>[f(d(r.opt.label),1)]),_:2},1024),t(u,{caption:""},{default:s(()=>[f(d(r.opt.email),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","error","error-message"])])])]),_:1}),t(y),t(x,{align:"right"},{default:s(()=>[t(p,{flat:"",label:"Cancel",onClick:a.cancel},null,8,["onClick"]),t(p,{type:"submit",color:"primary",label:"Update Client",loading:e.form.processing},null,8,["loading"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})])]),_:1})}const pe=v(q,[["render",R]]);export{pe as default};
