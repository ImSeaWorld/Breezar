import{Z as S,r as A,c as _,o as f,w as e,a as o,t as d,b as t,Q as h,i as y,h as U,f as i,e as Q,g as C,R as L,S as D}from"./app-B9ngRPxC.js";import{Q as u}from"./QItemSection-Dr7pKUWg.js";import{Q as s}from"./QItemLabel-CDx0sUKF.js";import{Q as c}from"./QItem-DGC_oh8H.js";import{Q as T}from"./QSeparator-DlYTESWS.js";import{a as B}from"./QSelect-U9GO-vcy.js";import{Q as x}from"./QList-CauX3dmB.js";import{_ as I,Q as k,a as v}from"./_plugin-vue_export-helper-DE_L9tpe.js";import{Q as N,a as q}from"./QTable-BWQ-_2Rh.js";import{A as E}from"./Authenticated-Bi_brb96.js";import"./use-key-composition-CcPeSjoe.js";import"./use-id-Bsf40j7l.js";import"./focus-manager-BJWzFvJg.js";import"./format-DSaZ9Sxz.js";import"./use-model-toggle-D3uVg552.js";import"./use-timeout-BLTl8fd9.js";import"./QDialog-Bd7-soYq.js";import"./QLinearProgress-azICafWN.js";import"./QCheckbox-C-madECj.js";import"./use-checkbox-D0S0Xvb9.js";import"./QToolbar-tVFOb00I.js";import"./QBtnGroup-uFzmfQIw.js";import"./touch-BjYP5sR0.js";const z={components:{AuthenticatedLayout:E,Link:S},props:{user:Object,recentActivities:Array},data(){return{loginColumns:[{name:"success",label:"Status",align:"center"},{name:"ip",label:"IP Address",field:"ip",align:"left"},{name:"user_agent",label:"Browser",field:"user_agent",align:"left",format:a=>this.formatUserAgent(a)},{name:"timestamp",label:"Time",field:"timestamp",align:"left"}]}},methods:{formatDate(a){return new Date(a).toLocaleDateString()},formatDateTime(a){return new Date(a).toLocaleString()},formatUserAgent(a){return a.includes("Chrome")?"Chrome":a.includes("Firefox")?"Firefox":a.includes("Safari")?"Safari":a.includes("Edge")?"Edge":"Unknown"},formatActivity(a){var r,b,p,m,g,w;return{client_created:`created client "${((r=a.metadata)==null?void 0:r.client_name)||"Unknown"}"`,client_updated:`updated client "${((b=a.metadata)==null?void 0:b.client_name)||"Unknown"}"`,user_created:`created user "${((p=a.metadata)==null?void 0:p.user_name)||"Unknown"}"`,user_updated:`updated user "${((m=a.metadata)==null?void 0:m.user_name)||"Unknown"}"`,instance_restarted:`restarted instance "${((g=a.metadata)==null?void 0:g.instance_name)||"Unknown"}"`,report_generated:`generated ${((w=a.metadata)==null?void 0:w.report_type)||"Unknown"} report`}[a.action]||a.action},getActivityIcon(a){return{client_created:"mdi-plus-circle",client_updated:"mdi-pencil",user_created:"mdi-account-plus",user_updated:"mdi-account-edit",instance_restarted:"mdi-restart",report_generated:"mdi-file-chart"}[a]||"mdi-information"}}},F={class:"q-gutter-md"},R={class:"row items-center justify-between q-mb-md"},V={class:"text-h5"},P={class:"text-caption text-grey-7"},j={class:"row q-col-gutter-md"},H={class:"col-12 col-md-4"},O={class:"q-ml-sm"},Z={class:"col-12 col-md-8"};function G(a,l,r,b,p,m){const g=A("Link"),w=A("AuthenticatedLayout");return f(),_(w,null,{default:e(()=>[o("div",F,[o("div",R,[o("div",null,[o("div",V,d(r.user.name),1),o("div",P,d(r.user.email),1)]),o("div",null,[t(h,{color:"primary",icon:"mdi-pencil",label:"Edit",onClick:l[0]||(l[0]=n=>a.$inertia.visit(a.route("users.edit",r.user.id))),class:"q-mr-sm"}),t(h,{color:"secondary",icon:"mdi-arrow-left",label:"Back",onClick:l[1]||(l[1]=n=>a.$inertia.visit(a.route("users.index")))})])]),o("div",j,[o("div",H,[t(k,null,{default:e(()=>[t(v,null,{default:e(()=>[l[6]||(l[6]=o("div",{class:"text-h6 q-mb-md"},"User Details",-1)),t(x,null,{default:e(()=>[t(c,null,{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(U,{size:"48px",color:"primary","text-color":"white"},{default:e(()=>[i(d(r.user.name.charAt(0)),1)]),_:1})]),_:1}),t(u,null,{default:e(()=>[t(s,null,{default:e(()=>[i(d(r.user.name),1)]),_:1}),t(s,{caption:""},{default:e(()=>[i(d(r.user.email),1)]),_:1})]),_:1})]),_:1}),t(T,{spaced:""}),t(c,null,{default:e(()=>[t(u,null,{default:e(()=>[t(s,{caption:""},{default:e(()=>l[2]||(l[2]=[i("Role",-1)])),_:1,__:[2]}),t(s,null,{default:e(()=>[t(B,{color:r.user.role==="admin"?"primary":"secondary","text-color":"white",size:"sm"},{default:e(()=>[i(d(r.user.role),1)]),_:1},8,["color"])]),_:1})]),_:1})]),_:1}),t(c,null,{default:e(()=>[t(u,null,{default:e(()=>[t(s,{caption:""},{default:e(()=>l[3]||(l[3]=[i("Two-Factor Authentication",-1)])),_:1,__:[3]}),t(s,null,{default:e(()=>[t(Q,{name:r.user.two_factor_secret?"mdi-shield-check":"mdi-shield-off",color:r.user.two_factor_secret?"positive":"grey",size:"20px"},null,8,["name","color"]),o("span",O,d(r.user.two_factor_secret?"Enabled":"Disabled"),1)]),_:1})]),_:1})]),_:1}),t(c,null,{default:e(()=>[t(u,null,{default:e(()=>[t(s,{caption:""},{default:e(()=>l[4]||(l[4]=[i("Created",-1)])),_:1,__:[4]}),t(s,null,{default:e(()=>[i(d(m.formatDate(r.user.created_at)),1)]),_:1})]),_:1})]),_:1}),t(c,null,{default:e(()=>[t(u,null,{default:e(()=>[t(s,{caption:""},{default:e(()=>l[5]||(l[5]=[i("Last Updated",-1)])),_:1,__:[5]}),t(s,null,{default:e(()=>[i(d(m.formatDate(r.user.updated_at)),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1,__:[6]})]),_:1}),r.user.role==="manager"?(f(),_(k,{key:0,class:"q-mt-md"},{default:e(()=>[t(v,null,{default:e(()=>[l[8]||(l[8]=o("div",{class:"text-h6 q-mb-md"},"Assigned Clients",-1)),t(x,null,{default:e(()=>[(f(!0),C(L,null,D(r.user.clients,n=>(f(),_(c,{key:n.id},{default:e(()=>[t(u,null,{default:e(()=>[t(s,null,{default:e(()=>[t(g,{href:a.route("clients.show",n.id),class:"text-primary"},{default:e(()=>[i(d(n.name),1)]),_:2},1032,["href"])]),_:2},1024),t(s,{caption:""},{default:e(()=>[i(d(n.fly_org_id),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),r.user.clients.length===0?(f(),_(c,{key:0},{default:e(()=>[t(u,null,{default:e(()=>[t(s,{class:"text-grey-6"},{default:e(()=>l[7]||(l[7]=[i("No clients assigned",-1)])),_:1,__:[7]})]),_:1})]),_:1})):y("",!0)]),_:1})]),_:1,__:[8]})]),_:1})):y("",!0)]),o("div",Z,[t(k,null,{default:e(()=>[t(v,null,{default:e(()=>[l[9]||(l[9]=o("div",{class:"text-h6 q-mb-md"},"Recent Login History",-1)),t(N,{rows:r.user.login_logs,columns:p.loginColumns,"row-key":"id",flat:"",bordered:"",pagination:{rowsPerPage:10}},{"body-cell-success":e(n=>[t(q,{props:n},{default:e(()=>[t(Q,{name:n.row.success?"mdi-check-circle":"mdi-close-circle",color:n.row.success?"positive":"negative",size:"20px"},null,8,["name","color"])]),_:2},1032,["props"])]),"body-cell-timestamp":e(n=>[t(q,{props:n},{default:e(()=>[i(d(m.formatDateTime(n.row.timestamp)),1)]),_:2},1032,["props"])]),_:1},8,["rows","columns"])]),_:1,__:[9]})]),_:1}),t(k,{class:"q-mt-md"},{default:e(()=>[t(v,null,{default:e(()=>[l[11]||(l[11]=o("div",{class:"text-h6 q-mb-md"},"Recent Activities",-1)),t(x,null,{default:e(()=>[(f(!0),C(L,null,D(r.recentActivities,n=>(f(),_(c,{key:n.id},{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(Q,{name:m.getActivityIcon(n.action)},null,8,["name"])]),_:2},1024),t(u,null,{default:e(()=>[t(s,null,{default:e(()=>[i(d(m.formatActivity(n)),1)]),_:2},1024),t(s,{caption:""},{default:e(()=>[i(d(m.formatDateTime(n.created_at)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),r.recentActivities.length===0?(f(),_(c,{key:0},{default:e(()=>[t(u,null,{default:e(()=>[t(s,{class:"text-grey-6"},{default:e(()=>l[10]||(l[10]=[i("No recent activities",-1)])),_:1,__:[10]})]),_:1})]),_:1})):y("",!0)]),_:1})]),_:1,__:[11]})]),_:1})])])])]),_:1})}const ge=I(z,[["render",G]]);export{ge as default};
