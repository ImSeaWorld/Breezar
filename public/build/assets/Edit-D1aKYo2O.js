import{Q as l}from"./QInput-CJt-xT-X.js";import{_ as g,Q as C,a as b}from"./_plugin-vue_export-helper-DE_L9tpe.js";import{Q as h}from"./QSeparator-DlYTESWS.js";import{r as a,c as k,o as d,w as s,a as o,b as r,t as p,g as x,i as y,Q as c,L as v}from"./app-B9ngRPxC.js";import{Q}from"./QCardActions-BXiB0Jwk.js";import{Q as V}from"./QForm-QL7SKRAj.js";import{A as S}from"./Authenticated-Bi_brb96.js";import{C as w}from"./CodeMirrorEditor-ULlk9JEz.js";import"./use-key-composition-CcPeSjoe.js";import"./use-id-Bsf40j7l.js";import"./focus-manager-BJWzFvJg.js";import"./QToolbar-tVFOb00I.js";import"./QItemSection-Dr7pKUWg.js";import"./QItemLabel-CDx0sUKF.js";import"./QItem-DGC_oh8H.js";import"./QList-CauX3dmB.js";import"./use-timeout-BLTl8fd9.js";import"./QBtnGroup-uFzmfQIw.js";import"./format-DSaZ9Sxz.js";import"./use-model-toggle-D3uVg552.js";import"./touch-BjYP5sR0.js";const q={components:{AuthenticatedLayout:S,CodeMirrorEditor:w},props:{script:Object},data(){return{form:v({name:this.script.name,description:this.script.description||"",tinker_code:this.script.tinker_code}),editorOptions:{mode:"text/x-php",theme:"material-darker",lineNumbers:!0,lineWrapping:!0,autoCloseBrackets:!0,matchBrackets:!0,indentUnit:4,tabSize:4,indentWithTabs:!1,extraKeys:{"Ctrl-/":"toggleComment","Cmd-/":"toggleComment"}}}},methods:{onCodeChange(m){this.form.tinker_code=m},submit(){this.form.put(route("scripts.update",this.script.id),{onSuccess:()=>{this.$q.notify({type:"positive",message:"Script updated successfully"})}})},cancel(){this.$inertia.visit(route("scripts.show",this.script.id))}}},B={class:"q-gutter-md"},E={class:"row items-center justify-between q-mb-md"},A={class:"text-h5"},L={class:"q-gutter-md"},N={key:0,class:"text-negative text-caption q-mt-sm"};function U(m,t,u,T,e,n){const f=a("CodeMirrorEditor"),_=a("AuthenticatedLayout");return d(),k(_,null,{default:s(()=>[o("div",B,[o("div",E,[o("div",A,"Edit Script: "+p(u.script.name),1)]),r(C,null,{default:s(()=>[r(V,{onSubmit:n.submit},{default:s(()=>[r(b,null,{default:s(()=>[o("div",L,[r(l,{modelValue:e.form.name,"onUpdate:modelValue":t[0]||(t[0]=i=>e.form.name=i),label:"Script Name",filled:"",error:!!e.form.errors.name,"error-message":e.form.errors.name},null,8,["modelValue","error","error-message"]),r(l,{modelValue:e.form.description,"onUpdate:modelValue":t[1]||(t[1]=i=>e.form.description=i),label:"Description",filled:"",type:"textarea",rows:"3",error:!!e.form.errors.description,"error-message":e.form.errors.description},null,8,["modelValue","error","error-message"]),o("div",null,[t[3]||(t[3]=o("div",{class:"text-subtitle2 q-mb-sm"},"Tinker Code",-1)),t[4]||(t[4]=o("div",{class:"text-caption text-grey-7 q-mb-md"}," Write PHP code that will be executed in Laravel Tinker context. Variables like $client will be injected when executing with a client context. ",-1)),r(f,{modelValue:e.form.tinker_code,"onUpdate:modelValue":t[2]||(t[2]=i=>e.form.tinker_code=i),options:e.editorOptions,onInput:n.onCodeChange},null,8,["modelValue","options","onInput"]),e.form.errors.tinker_code?(d(),x("div",N,p(e.form.errors.tinker_code),1)):y("",!0)])])]),_:1}),r(h),r(Q,{align:"right"},{default:s(()=>[r(c,{flat:"",label:"Cancel",onClick:n.cancel},null,8,["onClick"]),r(c,{type:"submit",color:"primary",label:"Update Script",loading:e.form.processing},null,8,["loading"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})])]),_:1})}const oe=g(q,[["render",U]]);export{oe as default};
